//--------------------------------------------------------------------------------------------------
//= SSB ComboCounter Module
//--------------------------------------------------------------------------------------------------
//	SSB ComboCounter でのみ使用するオリジナル命令 / 関数モジュール
//--------------------------------------------------------------------------------------------------
	#module _SSBComboCounterModule_

		//----------------------------------------------------------------------------------------------
		//= CCDraw	コンボカウンターを描画する
		//----------------------------------------------------------------------------------------------
		//	ComboCounterの内容をCCFontでカレントポジションに描画する。
		//	0〜99まで対応
		//----------------------------------------------------------------------------------------------
			#deffunc CCDraw int _cc, int _towid, int _ccwid
				CC		= _cc		//描画するコンボ数
				ToWID	= _towid	//描画先ウィンドウID
				CCWID	= _ccwid	//コンボカウンター画像のウィンドウID
				
				Text = str(limit(CC, 0, 99))
				TextLength = strlen(text)
				//コンボが終了した場合はカウンターを暗く
				if( ComboCounterBuf@(cnt@) < CCSTART@ ){
					shadow = 11
				} else {
					shadow = 0
				}
				//描画開始
				x = ginfo_cx	:	y = ginfo_cy
				GselMem = ginfo_sel
				gsel ToWID
				repeat TextLength
					//1桁の場合は右寄せにする
					if( TextLength == 1 ){
						x + CCFONT_SIZE_W@
					}
					pos x, y
					put = int(strmid(Text, cnt, 1))
					color ALPHA_COLOR@
					gmode 4, , , 255
					celput CCWID, put+shadow
					x + CCFONT_SIZE_W@
				loop
				pos x, y
				gcopy CCWID, CCFONT_SIZE_W@*10, CCFONT_SIZE_H@*(shadow != 0), CC_HITCOMBO_SIZE_W@, CC_HITCOMBO_SIZE_H@
				gsel GselMem
			return

		//------------------------------------------------------------------------------------------
		//= Exist関数
		//------------------------------------------------------------------------------------------
			#defcfunc ExistB str _path
				ret = 0
				exist _path
				if( strsize != -1 ){ ret = 1 }
			return ret
		
	#global